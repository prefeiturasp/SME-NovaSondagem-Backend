using Elastic.Clients.Elasticsearch;
using SME.Sondagem.Dados.Interfaces;
using SME.Sondagem.Dados.Repositorio.Elastic;
using SME.Sondagem.Infra.Interfaces;
using System.Diagnostics.CodeAnalysis;

namespace SME.Sondagem.Dados.Repositorio.Auditoria;

[ExcludeFromCodeCoverage]
public class RepositorioAuditoria : RepositorioElasticBase<Dominio.Entidades.Auditoria>, IRepositorioAuditoria
{
    public RepositorioAuditoria(IServicoTelemetria servicoTelemetria, ElasticsearchClient elasticClient)
        : base(servicoTelemetria, elasticClient)
    {
    }

    public async Task Salvar(Dominio.Entidades.Auditoria auditoria)
        => await InserirAsync(auditoria,string.Empty);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      

    public async Task SalvarMultiplos(IEnumerable<Dominio.Entidades.Auditoria> auditorias)
        => await InserirBulk(auditorias, string.Empty);
}